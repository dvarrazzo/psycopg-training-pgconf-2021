<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title><em>psycopg</em>: Python for PostgreSQL</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
      
      <link rel="stylesheet" href="css/psycopg.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-1">
          <div class="inner">
            
            <header><h1><em>psycopg</em>: Python for PostgreSQL</h1></header>
            
            
            <section><h2>The present and the future</h2>
<img alt="img/psycopg.png" src="img/psycopg.png" />
<p class="text-right">Postgres London 2021, <tt class="docutils literal"><span class="pre">'2021-05-12'::date</span></tt></p>
<p class="text-right">Daniele Varrazzo</p>
<!-- Note to piro: you want
:autocmd BufWritePost psycopg.rst :silent !make html --></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              1/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-2">
          <div class="inner">
            
            <header><h1>What is Python?</h1></header>
            
            
            <section><p class="font-bigger">Hardly the outsider anymore...</p>
<img alt="img/tiobe.png" src="img/tiobe.png" style="width: 800px;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              2/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-3">
          <div class="inner">
            
            <header><h1>What is Python?</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Easy to use<ul>
<li>Simple syntax</li>
<li>Good teaching language</li>
<li>Plenty of tutorials</li>
</ul>
</li>
<li>Interfaces with everything<ul>
<li>Easy parsing of text and binary</li>
<li>Libraries likely available for any protocol</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              3/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-4">
          <div class="inner">
            
            <header><h1>Is it any good with PostgreSQL?</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>tl; dr: hell yeah!</li>
<li>Note: we talk about Python as external language<ul>
<li>Python as procedural language not considered here</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              4/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-5">
          <div class="inner">
            
            <header><h1>Is it any good with PostgreSQL?</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Do you really want to do everything <em>inside</em> the database?<ul>
<li>Do you send email from inside the database?</li>
<li>Do you query a web service from your SQL query?</li>
<li>Do you format protobuffer, or compress a zip file, inside a database?</li>
</ul>
</li>
<li>You can do all of that, but it's not necessarily a good idea<ul>
<li>You would likely use PL/Python anyway...</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              5/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-6">
          <div class="inner">
            
            <header><h1>Just write a program</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Many tasks are better performed outside the database<ul>
<li>For scalability, deployment, maintenance,</li>
</ul>
</li>
</ul>
<img alt="img/script.png" src="img/script.png" style="width: 700px;" />
<ul class="font-bigger simple">
<li>You want a simple language to interface with the outside<ul>
<li>Talking PostgreSQL fluently!</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              6/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-7">
          <div class="inner">
            
            <header><h1>psycopg2</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              7/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-8">
          <div class="inner">
            
            <header><h1>What is <tt class="docutils literal">psycopg2</tt>?</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>‚öôÔ∏è industry standard Python-PostgreSQL adapter</li>
<li>üí™ libpq based</li>
<li>‚öñÔ∏è 50% C, 50% Python</li>
<li>(üêç+üá®)+üêò=‚ù§Ô∏è</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              8/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-9">
          <div class="inner">
            
            <header><h1>Installation</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Isolate your environment!</li>
</ul>
<pre><span></span>$ python3 -m venv env
$ <span class="nb">source</span> env/bin/activate
<span class="o">(</span>env<span class="o">)</span> $ pip install psycopg2  <span class="c1"># requires libpq installed</span>
<span class="c1"># or</span>
<span class="o">(</span>env<span class="o">)</span> $ pip install psycopg2-binary  <span class="c1"># on many but not all platforms</span>
</pre>
<ul class="font-bigger simple">
<li>Keep app dependencies separate from system dependencies</li>
<li>Docker is even better<ul>
<li>Isolate both Python and non-python dependencies</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              9/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-10">
          <div class="inner">
            
            <header><h1>Basic usage</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Import it in your project</li>
</ul>
<pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
</pre>
<ul class="font-bigger simple">
<li>Create a database connection</li>
</ul>
<pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=piro&quot;</span><span class="p">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              10/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-11">
          <div class="inner">
            
            <header><h1>Basic usage: running a query</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>In the DBAPI model you need a <strong>cursor</strong><ul>
<li>Can be a server side cursor (DECLARE)</li>
<li>Or just a client construct holding a result</li>
</ul>
</li>
</ul>
<pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=piro&quot;</span><span class="p">)</span>

<span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from generate_series(1, 10)&quot;</span><span class="p">)</span>
</pre>
<ul class="font-bigger simple">
<li>Optional to run simple queries in <tt class="docutils literal">psycopg3</tt></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              11/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-12">
          <div class="inner">
            
            <header><h1>Basic usage: fetching results</h1></header>
            
            
            <section><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=piro&quot;</span><span class="p">)</span>
<span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from generate_series(1, 10)&quot;</span><span class="p">)</span>

<span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,)</span>

<span class="n">cur</span><span class="o">.</span><span class="n">fetchmany</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">[(</span><span class="mi">2</span><span class="p">,),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,)]</span>

<span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="p">[(</span><span class="mi">5</span><span class="p">,),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,),</span> <span class="p">(</span><span class="mi">7</span><span class="p">,),</span> <span class="p">(</span><span class="mi">8</span><span class="p">,),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,)]</span>

<span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="bp">True</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              12/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-13">
          <div class="inner">
            
            <header><h1>Basic usage: iterating on results</h1></header>
            
            
            <section><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=piro&quot;</span><span class="p">)</span>
<span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select * from generate_series(1, 10)&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">4</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">6</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">7</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">8</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">9</span><span class="p">,)</span>
<span class="p">(</span><span class="mi">10</span><span class="p">,)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              13/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-14">
          <div class="inner">
            
            <header><h1>Adaptation</h1></header>
            
            
            <section><img alt="img/py-to-pg.png" src="img/py-to-pg.png" />
<ul class="font-bigger simple">
<li>Using Python variables in an SQL query</li>
</ul>
<pre><span></span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
    <span class="s2">&quot;select </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>    <span class="c1"># query, with placeholders</span>
    <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>           <span class="c1"># sequence of params</span>

<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span>
    <span class="s2">&quot;select </span><span class="si">%(a)s</span><span class="s2">, </span><span class="si">%(b)s</span><span class="s2">&quot;</span><span class="p">,</span>  <span class="c1"># query, with named placeholders</span>
    <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>     <span class="c1"># mapping of params</span>
</pre>
<ul class="font-bigger simple">
<li>Any possible query (psycopg doesn't do any parsing)</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              14/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-15">
          <div class="inner">
            
            <header><h1>Adaptation</h1></header>
            
            
            <section><img alt="img/py-to-pg.png" src="img/py-to-pg.png" />
<ul class="font-bigger simple">
<li><strong>DANGER!</strong> Don't do this!</li>
</ul>
<pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;</span><span class="si">%s</span><span class="s2">&#39; || &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
<span class="go">(&#39;ab&#39;,)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;</span><span class="si">%s</span><span class="s2">&#39; || &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;O&#39;Reilly&quot;</span><span class="p">,</span> <span class="s1">&#39; Books&#39;</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;ipython-input-29-720a7746fc83&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;</span><span class="si">%s</span><span class="s2">&#39; || &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;O&#39;Reilly&quot;</span><span class="p">,</span> <span class="s1">&#39; Books&#39;</span><span class="p">))</span>
<span class="gr">ProgrammingError</span>: <span class="n">syntax error at or near &quot;&#39; || &#39;&quot;</span>
<span class="go">LINE 1: select &#39;O&#39;Reilly&#39; || &#39; Books&#39;</span>
</pre>
<ul class="font-bigger simple">
<li>Don't use string concatenation, string formatting</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              15/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-16">
          <div class="inner">
            
            <header><h1>Adaptation</h1></header>
            
            
            <section><img alt="img/py-to-pg.png" src="img/py-to-pg.png" />
<ul class="font-bigger simple">
<li>The wrong way üëé</li>
</ul>
<pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select &#39;</span><span class="si">%s</span><span class="s2">&#39; || &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">))</span>
</pre>
<ul class="font-bigger simple">
<li>The right way üëç<ul>
<li>No quotes around placeholders</li>
<li>No use of <tt class="docutils literal">%</tt> or <tt class="docutils literal">+</tt> string operators</li>
</ul>
</li>
</ul>
<pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select </span><span class="si">%s</span><span class="s2"> || </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">))</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              16/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-17">
          <div class="inner">
            
            <header><h1>Typecasting</h1></header>
            
            
            <section><img alt="img/pg-to-py.png" src="img/pg-to-py.png" />
<ul class="font-bigger simple">
<li>Converting data from Postgres to Python</li>
<li>Typecasters have:<ol class="arabic">
<li>one or more OID</li>
<li>a name</li>
<li>a conversion function</li>
</ol>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              17/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-18">
          <div class="inner">
            
            <header><h1>Data type mapping</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Default data types mapping</li>
<li>Widely customisable</li>
</ul>
<table border="1" class="data-types docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Python</th>
<th class="head">PostgreSQL</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal">None</tt></td>
<td><tt class="docutils literal">NULL</tt></td>
</tr>
<tr><td><tt class="docutils literal">bool</tt></td>
<td><tt class="docutils literal">bool</tt></td>
</tr>
<tr><td><tt class="docutils literal">int</tt></td>
<td><tt class="docutils literal">smallint</tt>,
<tt class="docutils literal">integer</tt>,
<tt class="docutils literal">bigint</tt>,
<tt class="docutils literal">numeric</tt></td>
</tr>
<tr><td><tt class="docutils literal">float</tt></td>
<td><tt class="docutils literal">real</tt>,
<tt class="docutils literal">double</tt></td>
</tr>
<tr><td><tt class="docutils literal">Decimal</tt></td>
<td><tt class="docutils literal">numeric</tt></td>
</tr>
<tr><td><tt class="docutils literal">str</tt></td>
<td><tt class="docutils literal">varchar</tt>,
<tt class="docutils literal">text</tt></td>
</tr>
<tr><td><tt class="docutils literal">date</tt></td>
<td><tt class="docutils literal">date</tt></td>
</tr>
<tr><td><tt class="docutils literal">time</tt></td>
<td><tt class="docutils literal">time</tt></td>
</tr>
<tr><td><tt class="docutils literal">datetime</tt></td>
<td><tt class="docutils literal">timestamp</tt>,
<tt class="docutils literal">timestamptz</tt></td>
</tr>
<tr><td><tt class="docutils literal">timedelta</tt></td>
<td><tt class="docutils literal">interval</tt></td>
</tr>
</tbody>
</table></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              18/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-19">
          <div class="inner">
            
            <header><h1>Basic usage</h1></header>
            
            
            <section><p>The roles of the main actors</p>
<pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>                         <span class="c1"># the driver</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;dbname=piro&quot;</span><span class="p">)</span>  <span class="c1"># the connection/session</span>
<span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>                     <span class="c1"># the cursor - holds results</span>

<span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;select </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">])</span>   <span class="c1"># sends command</span>
<span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>                              <span class="c1"># retrieve results</span>
<span class="n">conn</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>                               <span class="c1"># controls the session</span>
</pre>
<p>Different ways to consume data</p>
<pre><span></span><span class="n">cur</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>      <span class="c1"># returns one tuples</span>
<span class="n">cur</span><span class="o">.</span><span class="n">fetchmany</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>    <span class="c1"># returns a list of n tuples</span>
<span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>      <span class="c1"># returns a list with all the tuples</span>
<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">cur</span><span class="p">:</span>
    <span class="o">...</span>             <span class="c1"># iterable of tuples</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              19/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-20">
          <div class="inner">
            
            <header><h1>What do you do with it?</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              20/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-21">
          <div class="inner">
            
            <header><h1>Consume a web service</h1></header>
            
            
            <section><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
</pre>
<ul class="simple">
<li>Query HTTP/HTTPS services</li>
<li>JSON conversion</li>
<li>Preprocess data before sending to database</li>
</ul>
<img alt="img/requests.png" src="img/requests.png" style="width: 700px;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              21/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-22">
          <div class="inner">
            
            <header><h1>Write a web service!</h1></header>
            
            
            <section><pre><span></span><span class="kn">import</span> <span class="nn">fastapi</span>
</pre>
<ul class="simple">
<li>Your new BFF forever to write strongly typed REST APIs</li>
</ul>
<img alt="img/fastapi.png" src="img/fastapi.png" style="width: 700px;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              22/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-23">
          <div class="inner">
            
            <header><h1>Send messages around</h1></header>
            
            
            <section><pre><span></span><span class="kn">import</span> <span class="nn">aio_pika</span>
</pre>
<ul class="simple">
<li>Drive events from PostgreSQL notifications</li>
</ul>
<img alt="img/rabbit.png" src="img/rabbit.png" style="width: 700px;" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              23/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-24">
          <div class="inner">
            
            <header><h1>So, it everything all sorted?</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>No!<ul>
<li>üêç Python has evolved</li>
<li>üêò Postgres has evolved</li>
<li>üí° Changes are needed</li>
</ul>
</li>
<li><strong>psycopg3</strong> is on the way!</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              24/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-25">
          <div class="inner">
            
            <header><h1>Support for <tt class="docutils literal">asyncio</tt> üèπ</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Allows for collaborative parallelism<ul>
<li>Control flow switch when I/O is performed</li>
</ul>
</li>
<li>Available in current Python 3 versions</li>
</ul>
<pre><span></span><span class="kn">from</span> <span class="nn">psycopg3</span> <span class="k">import</span> <span class="n">AsyncConnection</span>

<span class="k">async</span> <span class="k">with</span> <span class="n">AsyncConnection</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">CONNINFO</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="k">await</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM table&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="k">await</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">())</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              25/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-26">
          <div class="inner">
            
            <header><h1>Transactions as blocks ü§ù</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Support for transactions (nested, with <tt class="docutils literal">SAVEPOINT</tt>)</li>
</ul>
<pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">CONNINFO</span><span class="p">)</span>

<span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">tx1</span><span class="p">:</span>
    <span class="n">num_ok</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">operation</span> <span class="ow">in</span> <span class="n">operations</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">conn</span><span class="o">.</span><span class="n">transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">tx2</span><span class="p">:</span>
                <span class="n">unreliable_operation</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;</span><span class="si">{operation}</span><span class="s2"> failed&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">num_ok</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">save_number_of_successes</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">num_ok</span><span class="p">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              26/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-27">
          <div class="inner">
            
            <header><h1>COPY with Python objects üöõ</h1></header>
            
            
            <section><ul class="simple">
<li>Supports text and binary format</li>
<li>Copy by record (Python values) or block (preformatted)</li>
<li>Allow for async COPY (if producer/consumer is async)</li>
</ul>
<pre><span></span><span class="n">records</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">),</span> <span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;world&quot;</span><span class="p">)]</span>

<span class="k">with</span> <span class="n">cursor</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span>
    <span class="s2">&quot;COPY sample (col1, col2, col3) FROM STDIN&quot;</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">copy</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">records</span><span class="p">:</span>
        <span class="n">copy</span><span class="o">.</span><span class="n">write_row</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
</pre>
<pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.out&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">cursor</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;COPY table_name TO STDOUT&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">copy</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">copy</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              27/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-28">
          <div class="inner">
            
            <header><h1>...and much more</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Prepared statements</li>
<li>Binary parameters</li>
<li>Easier notifications</li>
<li>libpq low-level access</li>
<li>Pure Python implementation</li>
<li>...</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              28/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-29">
          <div class="inner">
            
            <header><h1><tt class="docutils literal">psycopg3</tt> needs you!</h1></header>
            
            
            <section><ul class="font-bigger simple">
<li>Close to release!</li>
<li>Crowdfunded free-software project</li>
</ul>
<img alt="img/sponsors.png" class="sponsors" src="img/sponsors.png" style="width: 500px;" />
<ul class="font-bigger simple">
<li>üíú <a class="reference external" href="https://github.com/sponsors/dvarrazzo/">Contributions and sponsorship welcome</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              29/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-30">
          <div class="inner">
            
            <header><h1>ü§î Questions?</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              30/31
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: psycopg.rst -->
      <div class="slide-wrapper">
        <div class="slide slide-31">
          <div class="inner">
            
            <header><h1>ü•∞ Thank you!</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="psycopg.rst">psycopg.rst</a>
            </aside>
            
            <aside class="page_number">
              31/31
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1"><em>psycopg</em>: Python for PostgreSQL</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">What is Python?</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">What is Python?</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Is it any good with PostgreSQL?</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">Is it any good with PostgreSQL?</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Just write a program</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">psycopg2</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">What is <tt class="docutils literal">psycopg2</tt>?</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Installation</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Basic usage</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Basic usage: running a query</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">Basic usage: fetching results</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Basic usage: iterating on results</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Adaptation</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Adaptation</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Adaptation</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Typecasting</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">Data type mapping</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Basic usage</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">What do you do with it?</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Consume a web service</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Write a web service!</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">Send messages around</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">So, it everything all sorted?</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">Support for <tt class="docutils literal">asyncio</tt> üèπ</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Transactions as blocks ü§ù</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">COPY with Python objects üöõ</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">...and much more</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29"><tt class="docutils literal">psycopg3</tt> needs you!</a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">ü§î Questions?</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">ü•∞ Thank you!</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Expos√©</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>